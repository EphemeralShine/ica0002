mysql_host: "{{ groups['db_servers'] | first }}"
mysql_database: agama
mysql_user: agama
node_id: "{{ (ansible_port / 100) | int }}"
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32303436616538343935376431316562656664336266613637633165303661343562353838323432
          3961323561633765366638353734393162643564373637650a643932633365346531623437303237
          31363162306465623965326434303166373234323432646234616131393932656561613434666533
          3362363365643135370a643061663463386536653638353937343632626661626138336365386463
          3264
mysql_exporter_user: exporter
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32383432643630653733393935333630653763353539333636386130323239343261313736386566
          3833336333306534383162616462353534373266323633640a313134346162373365646437343165
          32643532663431616335333631623637633133623664396463356632353731616238613661613338
          6636616331643231620a326630613264313930663436386665623135316237633733333461666632
          3336
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_backup_user: backup
mysql_backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64343839326134313331616564636236323162346631343432316363333733363866643034626432
          3436326635663333386463326433616335373762353432310a613633366537336430613635396136
          31313732383066386165393666333965643330363664383531323832366561336535656264633430
          3030613134333366300a653866636136363432386532623862336366343866386235313532653534
          6432
mysql_replication_user: replication
mysql_replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30656532343732633739656536633964313261366235633364613133656439643861613062346139
          6435353233303137646161346333373961666236326136640a353630663132376538633165326264
          62633935336138363130313931353239303835353031656230636631626364366637623835663162
          6665333937623366380a623132353166303036346265353133303962343738323937373035646639
          3135
grafana_user: EphemeralShine
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37313466666666653332383462343837353364623730366335643537363034666336373231363438
          6466656632383433633437386364623831373832366562620a646530383136373130393462306264
          38393566363134353138623936393165393230613035663063393063363535346336636633326535
          3766343238306462320a383664653362356132636636343263356165386161396166346431316536
          3839
vrrp_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61626131666564363631623161393963323136316366663763643066346134653939656536356230
          6233653038323761386535643831393736373237356135620a666431653238646636623266383662
          65316436653464343238383938356137303739653530383736306435656136356332666631666264
          3236623334633961340a643038373263306663616432353130633530653634316337636563643932
          6237
vrrp_master: EphemeralShine-1
bind_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35633630326537633635643966663561646362316430366131333435383039613738656439633932
          6438663931326535326539613031303337396137653238310a383034666438346464353966633833
          32373437303163333262393764633735666233333266346139643462303663363665323561366364
          3931653634666461630a656139376136393339666665373763343434626330363832333635393335
          65373561346665366438386537373964353430316666366534393363396632666239623062303065
          6364393332623166663862376434623636353236326561303362
bind_nsupdate_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31353861633337353332316363663761646264363966373266386530303661653562643333376432
          6237653837346361303465633363653663363264643132650a356430366237326161643930393465
          64383239323336376635343136643030353636323966393831393539333930353431363934396466
          3732306366353834610a376335663963653733393862656461306432303333383032373536306339
          34636666616439646538326665623361396336613764366431313263666133383438626133366339
          6539323966613733636331383638303236613462363333323066
grafana_port: 3001

agama_container_count: 2
agama_containers: >
  [{% for item in range(1, agama_container_count + 1) %}
    {'name': 'agama{{ item }}', 'port': {{ 8000 + item }}}
    {% if not loop.last %},{% endif %}
  {% endfor %}]

backup_server: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

dns_forwarders:
  - 1.1.1.1
  - 8.8.8.8

dns_access:
  - 192.168.42.0/23
  - 127.0.0.0/8
  - 172.17.0.0/16

domain: fullbright.df

prometheus_jobs:
  - name: linux
    target_port: 9100
    target_group: all
    target_cname: EphemeralShine
  - name: bind9
    target_port: 9119
    target_group: dns_servers
    target_cname: ns
  - name: nginx
    target_port: 9113
    target_group: web_servers
    target_cname: www
  - name: mysql
    target_port: 9104
    target_group: db_servers
    target_cname: mysql
  - name: influxdb
    target_port: 9424
    target_group: influxdb
    target_cname: influxdb
  - name: haproxy
    target_port: 9101
    target_group: ha
    target_cname: lb
  - name: keepalived
    target_port: 9165
    target_group: ha
    target_cname: lb